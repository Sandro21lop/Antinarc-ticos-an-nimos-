<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Cofraternidad - Narc√≥ticos An√≥nimos</title>
  <meta name="description" content="Cofraternidad de Narc√≥ticos An√≥nimos - historia, mensaje, recursos y horarios">

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --azul-primario: #2563eb;
      --azul-oscuro: #1e40af;
      --texto: #0f1724; /* m√°s contraste sobre fondo claro */
      --gris: #4b5563;
      --shadow: 0 10px 30px rgba(37,99,235,0.08);
      font-family: 'Inter', system-ui, sans-serif;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html{scroll-behavior:smooth}
    /* carga suave */
    body{opacity:0;transition:opacity .8s ease;}
    body.loaded{opacity:1;}

    /* Fondo degradado claro y animado */
    body {
  min-height: 100vh;
  background: linear-gradient(90deg, #0D3B66, #1E5A99, #3B7CCC, #5A99FF);
  background-size: 600% 600%;
  animation: moverFondo 6s ease infinite;
  color: var(--texto);
  line-height: 1.6;
}

    @keyframes moverFondo {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* brillo radial sutil encima del fondo */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      background:
        radial-gradient(800px 400px at 10% 20%, rgba(255,255,255,0.45), transparent 20%),
        radial-gradient(700px 350px at 90% 80%, rgba(255,255,255,0.30), transparent 18%);
      opacity: 0.35;
      mix-blend-mode: overlay;
      animation: glow 12s ease-in-out infinite alternate;
      z-index: -1;
    }
    @keyframes glow { from {opacity: .25} to {opacity:.55} }

    a{color:var(--azul-primario);text-decoration:none;transition:all .25s}

    .container{max-width:1200px;margin:0 auto;padding:20px}

    /* Header */
    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:20px;
      padding:20px 28px;
      background:rgba(255,255,255,0.7);
      border-radius:14px;
      box-shadow:var(--shadow);
      margin-bottom:28px;
      flex-wrap:wrap;
      position:sticky;
      top:18px;
      transition:all .28s ease;
      backdrop-filter: blur(6px);
      z-index: 50;
    }
    header.scrolled{
      padding:12px 20px;
      box-shadow:0 8px 30px rgba(16,24,40,0.06);
      transform: translateY(-2px);
    }
    
    .brand{display:flex;align-items:center;gap:14px}
    .brand img{
      height:64px;
      width:64px;
      border-radius:12px;
      box-shadow:0 6px 18px rgba(16,24,40,0.06);
      background:white;
      padding:6px;
      transition:transform .3s;
    }
    .brand img:hover{transform:scale(1.05)}
    .brand h1{font-size:20px;color:var(--azul-oscuro);font-weight:800}
    .brand small{display:block;color:var(--gris);font-size:13px;margin-top:2px}

    nav{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .link{
      padding:9px 16px;
      border-radius:10px;
      font-weight:600;
      transition:all .25s;
      color:var(--texto);
    }
    .link:hover{background:rgba(37,99,235,0.06);color:var(--azul-primario)}
    .cta{
      background:var(--azul-primario);
      color:white;
      padding:9px 20px;
      border-radius:10px;
      font-weight:700;
      box-shadow:0 6px 18px rgba(37,99,235,0.18);
    }
    .cta:hover{background:var(--azul-oscuro);transform:translateY(-2px); box-shadow:0 8px 24px rgba(37,99,235,0.25)}

    /* Hero */
    .hero{
      display:grid;
      grid-template-columns:1.2fr 0.8fr;
      gap:22px;
      margin-top:20px;
    }
    
    /* Glass cards: efecto vidrio */
    .glass-card{
      background: rgba(255,255,255,0.75);
      border-radius:16px;
      padding:28px;
      box-shadow:var(--shadow);
      backdrop-filter: blur(8px);
    }

    .intro h2{
      margin:0 0 14px 0;
      font-size:34px;
      color:var(--azul-oscuro);
      font-weight:800;
      line-height:1.15;
      opacity:0;
      transform:translateY(10px);
      animation: slideUp 0.9s ease .15s forwards;
    }
    @keyframes slideUp { to {opacity:1; transform:none} }

    .lead{
      font-size:16px;
      line-height:1.7;
      color:var(--gris);
      margin-bottom:20px;
    }

    /* Botones */
    .download{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding:10px 18px;
      border-radius:10px;
      background:var(--azul-primario);
      color:white;
      font-weight:700;
      box-shadow:0 6px 18px rgba(37,99,235,0.14);
      transition:all .25s;
      border:none;
      cursor:pointer;
      font-size:15px;
    }
    .download:hover{
      background:var(--azul-oscuro);
      transform:translateY(-2px);
      box-shadow:0 10px 28px rgba(37,99,235,0.22);
    }
    
    .ghost{
      background:white;
      border:2px solid #e6eefc;
      padding:9px 16px;
      border-radius:10px;
      font-weight:600;
      color:var(--azul-primario);
      transition:all .25s;
      cursor:pointer;
      font-size:15px;
    }
    .ghost:hover{
      border-color:var(--azul-primario);
      background:#f7fbff;
    }

    /* glow en botones CTA */
    .download:hover, .cta:hover {
      box-shadow: 0 0 12px rgba(37,99,235,0.18);
    }

    /* Grid */
    .grid{
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:20px;
      margin-top:20px;
    }

    /* Cards */
    section.card{
      padding:28px;
      border-radius:16px;
      background: rgba(255,255,255,0.85);
      box-shadow:var(--shadow);
      margin-top:20px;
      backdrop-filter: blur(6px);
    }
    
    .card-title{
      font-size:26px;
      color:var(--azul-oscuro);
      margin-bottom:14px;
      font-weight:800;
    }

    /* Preview */
    .preview{display:grid;grid-template-columns:1fr;gap:14px}
    .thumb{
      border-radius:12px;
      overflow:hidden;
      box-shadow:0 6px 18px rgba(16,24,40,0.06);
      cursor:pointer;
      transition:all .25s;
      background:white;
    }
    .thumb:hover{
      transform:translateY(-6px);
      box-shadow:0 12px 30px rgba(16,24,40,0.08);
    }
    .thumb img{width:100%;height:auto;display:block}

    /* Modal */
    .modal{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background:rgba(0,0,0,0.6);
      z-index:1200;
      visibility:hidden;
      opacity:0;
      transition:all .25s;
    }
    .modal.open{visibility:visible;opacity:1}
    .modal .box{
      width:92%;
      max-width:1100px;
      height:85vh;
      background:white;
      border-radius:16px;
      overflow:hidden;
      display:flex;
      flex-direction:column;
      box-shadow:0 26px 80px rgba(0,0,0,0.28);
    }
    .modal .box .toolbar{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:16px 20px;
      border-bottom:1px solid #eef6ff;
      background:#fbfdff;
      flex-wrap:wrap;
      gap:10px;
    }
    .modal .box .toolbar #modalTitle{
      font-weight:700;
      font-size:18px;
      color:var(--azul-oscuro);
    }
    .modal .box iframe{flex:1;border:0}

    /* Timeline */
    .timeline{position:relative;padding-left:32px;margin-top:24px}
    .timeline:before{
      content:'';
      position:absolute;
      left:10px;
      top:0;
      width:4px;
      height:100%;
      background:var(--azul-primario);
      border-radius:4px;
    }
    .timeline-item{
      position:relative;
      padding:18px;
      margin-bottom:14px;
      background:#f7fbff;
      border-radius:12px;
      border-left:4px solid var(--azul-primario);
      transition:all .25s;
    }
    .timeline-item:hover{
      background:white;
      box-shadow:0 6px 18px rgba(16,24,40,0.06);
      transform:translateX(4px);
    }
    .timeline-item strong{
      display:block;
      color:var(--azul-primario);
      font-weight:700;
      margin-bottom:8px;
    }

    /* Contact */
    .contact-grid{display:grid;grid-template-columns:1.3fr 0.7fr;gap:22px}

    .form input,.form textarea{
      width:100%;
      padding:14px 16px;
      border-radius:10px;
      border:2px solid #eef6ff;
      margin-bottom:16px;
      font-size:15px;
      transition:all .25s;
      font-family:inherit;
      background:white;
    }
    .form input:focus,.form textarea:focus{
      outline:none;
      border-color:var(--azul-primario);
      box-shadow:0 0 0 4px rgba(37,99,235,0.06);
    }

    .muted{color:var(--gris);font-size:14px}
    
    footer{
      margin-top:36px;
      text-align:center;
      color:var(--texto);
      padding:26px;
      font-size:14px;
      background:rgba(255,255,255,0.55);
      border-radius:12px;
      backdrop-filter: blur(6px);
    }

    /* Animaciones reveal */
    .reveal{
      opacity:0;
      transform:translateY(18px);
      transition:all .6s ease;
    }
    .reveal.visible{opacity:1;transform:none}

    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    /* PDF preview (mejorada) */
    .pdf-preview {
      margin-top: 12px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 30px rgba(16,24,40,0.06);
      background: white;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
      border: 1px solid #eef6ff;
    }
    .pdf-preview:hover {
      transform: translateY(-6px);
      box-shadow: 0 20px 50px rgba(16,24,40,0.09);
    }
    .pdf-toolbar {
      display:flex;
      justify-content:space-between;
      align-items:center;
      background:#fbfdff;
      padding:10px 14px;
      font-weight:700;
      color:var(--azul-oscuro);
      gap:10px;
    }
    .ghost.small {
      font-size:13px;
      padding:7px 10px;
    }
    .pdf-preview iframe {
      width: 100%;
      height: 260px;
      border: none;
      display: block;
    }

    /* Responsive */
    @media (max-width:980px){
      .hero{grid-template-columns:1fr}
      .grid{grid-template-columns:1fr}
      .contact-grid{grid-template-columns:1fr}
      header{
        justify-content:center;
        text-align:center;
        padding:16px;
      }
      .brand{
        flex-direction:column;
        text-align:center;
      }
      nav{
        width:100%;
        justify-content:center;
      }
      .intro h2{font-size:30px}
    }

    @media (max-width:640px){
      .container{padding:12px}
      .brand h1{font-size:18px}
      .intro h2{font-size:26px;text-align:center}
      .glass-card{padding:20px}
      section.card{padding:20px}
      .download, .ghost{
        font-size:14px;
        padding:10px 14px;
      }
      .pdf-preview iframe { height: 380px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <img src="assets/logotipo.jpg" alt="Logo" id="logoImg"/>
        <div>
          <h1>Cofraternidad - Narc√≥ticos An√≥nimos</h1>
          <small>Llevando el mensaje desde 2006 ‚Ä¢ √Årea Portoviejo - Manab√≠</small>
        </div>
      </div>

      <nav aria-label="Men√∫ principal">
        <a class="link" href="#historia">Historia</a>
        <a class="link" href="#mensaje">Mensaje</a>
        <a class="link" href="#recursos">Recursos</a>
        <a class="link cta" href="#contacto">Contacto</a>
      </nav>
    </header>

    <main>
      <section class="hero">
        <div class="glass-card intro reveal">
          <h2>Bienvenidos a Cofraternidad NA</h2>
          <p class="lead">Apoyo, reuniones y recursos para quienes buscan recuperarse. Descubre nuestra historia, descarga material informativo y cont√°ctanos con facilidad.</p>

          <div style="margin-top:18px;display:flex;gap:12px;align-items:center;flex-wrap:wrap">
            <a class="download" href="assets/informacion.pdf" download>üìÑ Descargar informaci√≥n</a>
            <button class="ghost" id="previewPdfBtn">üëÅ Ver PDF</button>
            <a class="ghost" href="#recursos">M√°s recursos</a>
          </div>

          <div style="margin-top:18px;display:flex;gap:12px;align-items:center;flex-wrap:wrap">
            <img src="assets/Narc√≥ticos An√≥nimos CSAPM.png" alt="Logo NA" style="height:60px;border-radius:10px;background:white;padding:6px;box-shadow:0 6px 18px rgba(16,24,40,0.06)"/>
            <div class="muted">C.S.A.P.M ‚Äî √Årea Portoviejo ‚Ä¢ Manab√≠</div>
          </div>
        </div>

        <aside>
          <div class="glass-card reveal">
            <h3 style="font-size:22px;color:var(--azul-oscuro);font-weight:700;margin-bottom:12px">Horario de reuniones</h3>
            <p class="muted" style="margin-bottom:16px">Haz clic en la imagen para ampliar y descargarla.</p>
            <div class="preview">
              <div class="thumb" id="imgThumb"><img src="assets/horarios.jpg" alt="Horarios"/></div>
              <div style="display:flex;gap:10px;margin-top:12px;flex-wrap:wrap">
                <a class="download" href="assets/horarios.jpg" download>Descargar</a>
                <button class="ghost" id="whatsappQuick">üì≤ WhatsApp</button>
              </div>
            </div>
          </div>
        </aside>
      </section>

      <section id="historia" class="card reveal">
        <h3 class="card-title">Historia</h3>
        <p style="font-size:16px;color:var(--gris);margin-bottom:20px">La cofraternidad naci√≥ con el objetivo de apoyar a quienes luchan con la adicci√≥n, ofreciendo una comunidad de solidaridad y herramientas para la recuperaci√≥n. Desde agosto de 2006 hemos realizado reuniones regulares y actividades de difusi√≥n.</p>
      </section>

      <section id="mensaje" class="card reveal">
        <h3 class="card-title">Mensaje</h3>
        <p style="font-size:16px;color:var(--gris)">El mensaje central es de esperanza y apoyo mutuo: la recuperaci√≥n es posible si nos apoyamos y trabajamos juntos. Ac√©rcate a una reuni√≥n, descarga la informaci√≥n o cont√°ctanos para obtener apoyo.</p>
      </section>

      <section id="recursos" class="card reveal">
        <h3 class="card-title">Recursos y documentos</h3>
        <div class="grid">
          <div style="background:#fbfdff;padding:22px;border-radius:12px">
            <p style="font-weight:700;font-size:17px;color:var(--azul-oscuro);margin-bottom:8px">üìÑ Ficha informativa</p>
            <p class="muted" style="margin-bottom:14px">Incluye direcciones, contactos y una breve gu√≠a para familiares.</p>
            <div style="display:flex;gap:10px;flex-wrap:wrap">
              <a class="download" href="assets/informacion.pdf" download>Descargar PDF</a>
              <button class="ghost" id="openPdfModal">Vista previa</button>
            </div>
          </div>

          <!-- Vista previa PDF en cuadro (mejorada) -->
          <div class="pdf-preview reveal">
            <div class="pdf-toolbar">
              <span>Ficha informativa ‚Äî vista previa</span>
              <div>
                <button class="ghost small" onclick="openModal('assets/informacion.pdf','Ficha informativa')">‚§¢ Ampliar</button>
                <a class="ghost small" href="assets/informacion.pdf" download style="margin-left:8px">‚¨á Descargar</a>
              </div>
            </div>
            <iframe src="assets/informacion.pdf#toolbar=0&navpanes=0" title="Vista previa PDF"></iframe>
          </div>

          <div style="background:#fbfdff;padding:22px;border-radius:12px">
            <p style="font-weight:700;font-size:17px;color:var(--azul-oscuro);margin-bottom:8px">üñºÔ∏è Horarios</p>
            <p class="muted" style="margin-bottom:16px">Descarga la imagen o comp√°rtela por WhatsApp.</p>
            <div style="display:flex;gap:10px;flex-wrap:wrap">
              <a class="download" href="assets/horarios.jpg" download>Descargar</a>
              <button class="ghost" id="shareHorario">Compartir</button>
            </div>
          </div>
        </div>
      </section>

      <section id="contacto" class="card reveal">
        <h3 class="card-title">Contacto</h3>
        <div class="contact-grid">
          <div>
            <p class="muted" style="margin-bottom:20px">¬øTienes dudas? Escribe aqu√≠ y te conectaremos v√≠a WhatsApp con un asesor.</p>
            <form id="contactForm" class="form" onsubmit="return false;">
              <label class="sr-only" for="nombre">Nombre</label>
              <input id="nombre" name="nombre" placeholder="Tu nombre" required />

              <label class="sr-only" for="correo">Correo electr√≥nico</label>
              <input id="correo" name="correo" type="email" placeholder="tu@correo.com (opcional)" />

              <label class="sr-only" for="mensaje">Mensaje</label>
              <textarea id="mensaje" name="mensaje" rows="5" placeholder="Escribe tu mensaje..." required></textarea>

              <div style="display:flex;gap:10px;flex-wrap:wrap">
                <button id="sendWhats" class="download">Enviar por WhatsApp</button>
                <button id="clearBtn" class="ghost">Limpiar</button>
              </div>

              <div id="formNote" style="margin-top:12px;color:#10b981;display:none;font-weight:600">‚úì Abriendo WhatsApp...</div>
            </form>
          </div>

          <aside>
            <div style="background:#fbfdff;padding:22px;border-radius:12px">
              <h4 style="font-size:18px;color:var(--azul-oscuro);font-weight:700;margin-bottom:16px">Contacto directo</h4>
              <p class="muted" style="margin-bottom:8px">WhatsApp:</p>
              <p style="color:var(--azul-primario);font-weight:700;font-size:18px;margin-bottom:16px">+593 980 133 513</p>
              <p class="muted" style="margin-bottom:8px">Correo:</p>
              <p style="color:var(--azul-primario);font-weight:600;margin-bottom:20px">comitedeservicioareaportoviejo@outlook.es</p>

              <div style="display:flex;gap:10px;flex-wrap:wrap">
                <a class="download" id="whatsDirect" href="#">WhatsApp</a>
                <a class="ghost" href="assets/informacion.pdf" download>PDF</a>
              </div>
            </div>
          </aside>
        </div>
      </section>

    </main>

    <footer>
      <p style="font-weight:600">¬© 2024 Cofraternidad - Narc√≥ticos An√≥nimos</p>
      <p style="margin-top:4px;opacity:0.9">√Årea Portoviejo - Manab√≠, Ecuador</p>
    </footer>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal" role="dialog" aria-hidden="true">
    <div class="box">
      <div class="toolbar">
        <div id="modalTitle">Vista previa</div>
        <div style="display:flex;gap:10px">
          <button id="downloadModal" class="ghost">Descargar</button>
          <button id="closeModal" class="ghost">Cerrar</button>
        </div>
      </div>
      <iframe id="modalFrame" src="" title="vista previa"></iframe>
    </div>
  </div>

  <script>
    const WA_NUMBER = '593980133513';

    const qs = s => document.querySelector(s);
    const modal = qs('#modal');
    const modalFrame = qs('#modalFrame');
    const modalTitle = qs('#modalTitle');
    const downloadModal = qs('#downloadModal');

    // marcar body como cargado para animaci√≥n de entrada
    window.addEventListener('load', ()=>{
      document.body.classList.add('loaded');

      // animaci√≥n logo
      const logo = qs('#logoImg');
      if(logo){
        setTimeout(()=>{
          logo.style.transform='scale(1.08)';
          setTimeout(()=>logo.style.transform='scale(1)',300);
        },120);
      }
    });

    // Reveal on scroll
    const reveals = document.querySelectorAll('.reveal');
    const obs = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          e.target.classList.add('visible');
          obs.unobserve(e.target);
        }
      })
    },{threshold:0.1});
    reveals.forEach(r=>obs.observe(r));

    // PDF modal / preview handlers
    const previewPdfBtn = qs('#previewPdfBtn');
    const openPdfModal = qs('#openPdfModal');
    if(previewPdfBtn) previewPdfBtn.addEventListener('click', ()=>openModal('assets/informacion.pdf','Ficha informativa'));
    if(openPdfModal) openPdfModal.addEventListener('click', ()=>openModal('assets/informacion.pdf','Ficha informativa'));

    const imgThumb = qs('#imgThumb');
    if(imgThumb) imgThumb.addEventListener('click', ()=>openModal('assets/horarios.jpg','Horarios de reuniones', true));

    function openModal(src, title, isImage=false){
      modalFrame.src = isImage ? src : src + '#toolbar=0&navpanes=0';
      modalTitle.textContent = title;
      downloadModal.onclick = ()=>{ window.location = src; };
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
    }
    qs('#closeModal').addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if(e.target===modal) closeModal(); });
    function closeModal(){ modal.classList.remove('open'); modalFrame.src = ''; modal.setAttribute('aria-hidden','true'); }

    // WhatsApp quick actions
    const whatsappQuick = qs('#whatsappQuick');
    if(whatsappQuick) whatsappQuick.addEventListener('click', ()=>{
      const text = encodeURIComponent('Hola, quisiera informaci√≥n sobre los horarios de reuniones.');
      window.open(`https://wa.me/${WA_NUMBER}?text=${text}`,'_blank');
    });

    const shareHorario = qs('#shareHorario');
    if(shareHorario) shareHorario.addEventListener('click', ()=>{
      const text = encodeURIComponent('Hola, ¬øme pueden compartir los horarios de reuniones?');
      window.open(`https://wa.me/${WA_NUMBER}?text=${text}`,'_blank');
    });

    // Contact form -> WhatsApp
    const contactForm = qs('#contactForm');
    const sendWhats = qs('#sendWhats');
    const formNote = qs('#formNote');
    const clearBtn = qs('#clearBtn');

    sendWhats.addEventListener('click', (e)=>{
      e.preventDefault();
      const nombreVal = qs('#nombre').value || 'An√≥nimo';
      const correoVal = qs('#correo').value || 'No proporcionado';
      const mensajeVal = qs('#mensaje').value || '[sin mensaje]';
      // encode a single message string
      const text = encodeURIComponent(`Hola, soy ${nombreVal} (correo: ${correoVal}).\n\n${mensajeVal}`);
      formNote.style.display='block';
      window.open(`https://wa.me/${WA_NUMBER}?text=${text}`,'_blank');
      setTimeout(()=>{ formNote.style.display='none'; contactForm.reset(); },900);
    });

    clearBtn.addEventListener('click',(e)=>{ e.preventDefault(); contactForm.reset(); });

    const whatsDirect = qs('#whatsDirect');
    whatsDirect.href = `https://wa.me/${WA_NUMBER}`;

    // Header shadow on scroll
    const headerEl = document.querySelector('header');
    window.addEventListener('scroll', ()=>{
      if(window.scrollY > 40) headerEl.classList.add('scrolled');
      else headerEl.classList.remove('scrolled');
    });
  </script>
</body>
</html>
